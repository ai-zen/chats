<template>
  <div class="emoji-input" :class="{ 'is-disabled': disabled }">
    <el-tooltip
      :disabled="disabled"
      class="emoji-tooltip"
      placement="bottom"
      effect="light"
    >
      <input
        :disabled="disabled"
        :value="$props.modelValue"
        @input="$emit('update:modelValue', ($event.target as any).value)"
        maxlength="1"
      />
      <template #content>
        <div class="emoji-input__emojis-scroll">
          <div class="emoji-input__emojis">
            <button
              v-for="emoji in emojis"
              :key="emoji"
              @click="$emit('update:modelValue', emoji)"
            >
              {{ emoji }}
            </button>
          </div>
        </div>
      </template>
    </el-tooltip>
  </div>
</template>

<script lang="ts" setup>
import { ref } from "vue";

defineProps({
  modelValue: { type: String, required: true },
  disabled: { type: Boolean, default: false },
});

defineEmits(["update:modelValue"]);

const emojis = ref([
  "âŒš",
  "â˜€ï¸",
  "â˜ï¸",
  "â˜”ï¸",
  "â˜¹ï¸",
  "â™€ï¸â™‚ï¸",
  "âš¡ï¸",
  "âš¡",
  "â›„",
  "â›…ï¸",
  "â›·ï¸",
  "âœˆï¸",
  "âœ‰ï¸",
  "âœ¨",
  "â„ï¸",
  "â­ï¸",
  "â­",
  "ğŸŒ€",
  "ğŸŒ„",
  "ğŸŒ…",
  "ğŸŒ†",
  "ğŸŒ‡",
  "ğŸŒˆ",
  "ğŸŒ‰",
  "ğŸŒŠ",
  "ğŸŒ",
  "ğŸŒ",
  "ğŸŒ",
  "ğŸŒ™",
  "ğŸŒš",
  "ğŸŒ›",
  "ğŸŒ",
  "ğŸŒ",
  "ğŸŒŸ",
  "ğŸŒ¤ï¸",
  "ğŸŒ§ï¸",
  "ğŸŒ©ï¸",
  "ğŸŒ«ï¸",
  "ğŸŒ¬ï¸",
  "ğŸŒ­",
  "ğŸŒ®",
  "ğŸŒ²",
  "ğŸŒ³",
  "ğŸŒ´",
  "ğŸŒµ",
  "ğŸŒ¹",
  "ğŸŒº",
  "ğŸŒ»",
  "ğŸ‡",
  "ğŸ‰",
  "ğŸŠ",
  "ğŸ‹",
  "ğŸŒ",
  "ğŸ",
  "ğŸ",
  "ğŸ’",
  "ğŸ“",
  "ğŸ”",
  "ğŸ•",
  "ğŸœ",
  "ğŸŸ",
  "ğŸ¦",
  "ğŸ©",
  "ğŸª",
  "ğŸ«",
  "ğŸ¬",
  "ğŸ­",
  "ğŸ±",
  "ğŸ´",
  "ğŸ·",
  "ğŸ¸",
  "ğŸ¹",
  "ğŸº",
  "ğŸ»",
  "ğŸ¼",
  "ğŸ½ï¸",
  "ğŸ¾",
  "ğŸ¿",
  "ğŸ€",
  "ğŸ",
  "ğŸ‚",
  "ğŸƒ",
  "ğŸ„",
  "ğŸ…",
  "ğŸ‡",
  "ğŸˆ",
  "ğŸ‰",
  "ğŸŠ",
  "ğŸ–ï¸",
  "ğŸ ",
  "ğŸ¡",
  "ğŸ¢",
  "ğŸ§",
  "ğŸª",
  "ğŸµ",
  "ğŸ¶",
  "ğŸ‚",
  "ğŸƒâ€â™€",
  "ğŸƒâ€â™‚",
  "ğŸ„â€â™€",
  "ğŸ„â€â™‚",
  "ğŸ…",
  "ğŸ†",
  "ğŸŠâ€â™€",
  "ğŸŠâ€â™‚",
  "ğŸ‹ï¸",
  "ğŸï¸",
  "ğŸ™",
  "ğŸ",
  "ğŸ",
  "ğŸ ",
  "ğŸ¬",
  "ğŸ±",
  "ğŸ¶",
  "ğŸ¼",
  "ğŸ¾",
  "ğŸ‘»",
  "ğŸ’Œ",
  "ğŸ’¡",
  "ğŸ’£",
  "ğŸ’¥",
  "ğŸ’§",
  "ğŸ’«",
  "ğŸ’»",
  "ğŸ“Œ",
  "ğŸ“š",
  "ğŸ“š",
  "ğŸ“",
  "ğŸ“¬",
  "ğŸ“±",
  "ğŸ“·",
  "ğŸ”’",
  "ğŸ”¥",
  "ğŸ•·ï¸",
  "ğŸ—ï¸",
  "ğŸ¤",
  "ğŸ¤‘",
  "ğŸ¤“",
  "ğŸ¤”",
  "ğŸ¤–",
  "ğŸ¤—",
  "ğŸ¤£",
  "ğŸ¤¥",
  "ğŸ¤¨",
  "ğŸ¤©",
  "ğŸ¤«",
  "ğŸ¤­",
  "ğŸ¤¶",
  "ğŸ¤¸â€â™€",
  "ğŸ¤¸â€â™‚",
  "ğŸ¤½â€â™€",
  "ğŸ¤½â€â™‚",
  "ğŸ¤¾â€â™€",
  "ğŸ¤¾â€â™‚",
  "ğŸ¥‡",
  "ğŸ¥›",
  "ğŸ¥¤",
  "ğŸ¥°",
  "ğŸ¥³",
  "ğŸ¥º",
  "ğŸ¦„",
  "ğŸ§˜â€â™€",
  "ğŸ§˜â€â™‚",
  "ğŸ˜‚",
  "ğŸ˜ƒ",
  "ğŸ˜„",
  "ğŸ˜…",
  "ğŸ˜†",
  "ğŸ˜‡",
  "ğŸ˜‰",
  "ğŸ˜Š",
  "ğŸ˜",
  "ğŸ˜",
  "ğŸ˜",
  "ğŸ˜’",
  "ğŸ˜•",
  "ğŸ˜—",
  "ğŸ˜˜",
  "ğŸ˜™",
  "ğŸ˜š",
  "ğŸ˜œ",
  "ğŸ˜",
  "ğŸ˜Ÿ",
  "ğŸ˜¦",
  "ğŸ˜§",
  "ğŸ˜¬",
  "ğŸ˜­",
  "ğŸ˜®",
  "ğŸ˜¯",
  "ğŸ˜²",
  "ğŸ˜³",
  "ğŸ˜¶",
  "ğŸ™",
  "ğŸ™‚",
  "ğŸ™ƒ",
  "ğŸš€",
  "ğŸš",
  "ğŸšŒ",
  "ğŸš‘",
  "ğŸš’",
  "ğŸš”",
  "ğŸš•",
  "ğŸš—",
  "ğŸš™",
  "ğŸš›",
  "ğŸš£â€â™€",
  "ğŸš£â€â™‚",
  "ğŸš´â€â™€",
  "ğŸš´â€â™‚",
  "ğŸš¶â€â™€",
  "ğŸš¶â€â™‚",
  "ğŸ›³ï¸",
]);
</script>

<style lang="scss" scoped>
.emoji-input {
  width: 32px;
  height: 32px;
  font-size: 14px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: var(--el-border);
  &.is-disabled {
    input {
      cursor: unset;
    }
  }

  input {
    width: 100%;
    height: 100%;
    border: none;
    padding: none;
    background-color: unset;
    outline: none;
    text-align: center;
    cursor: pointer;
  }
}
</style>

<style lang="scss">
.emoji-input__emojis-scroll {
  height: 360px;
  overflow-y: scroll;
}
.emoji-input__emojis {
  display: flex;
  flex-wrap: wrap;
  width: 38px * 6;
  button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    margin: 3px;
    border: var(--el-border);
    border-color: var(--el-border-color);
    border-radius: 6px;
    cursor: pointer;
  }
}
</style>
